"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[519],{21889:function(Qr,$e,f){var xe=f(75271),be=f(86678),rr=f(60606),we=f(50165),se=f(52676);var Oe=function(Ee){var B=Ee.index,de=(0,xe.useRef)(null),k=100,Fe=[5195493,12951641,16777215,9647082],oe=(0,xe.useMemo)(function(){return Fe[Math.floor(Math.random()*Fe.length)]},[]),W=(0,xe.useMemo)(function(){return Math.random()*.4+.1},[]),Ne=(0,xe.useMemo)(function(){return{offset:Math.random()*100,speed:Math.random()*.005+.002,radius:Math.random()*4+2,freq:Math.random()*.5+.2}},[]),Be=(0,xe.useMemo)(function(){return new Float32Array(k*3)},[]),V=(0,xe.useRef)(null);return(0,be.F)(function(Re){if(de.current&&V.current){for(var ar=Re.clock.getElapsedTime()*10,We=Ne.offset,Ge=Ne.speed,Ue=Ne.radius,sr=Ne.freq,he=ar*Ge+We,Te=V.current.attributes.position.array,y=0;y<k;y++){var pe=y/k,Me=pe*Math.PI*2+he,ir=Math.cos(Me)*Ue+Math.sin(he*.5+B)*2,lr=Math.sin(Me*sr)*(Ue*.5)+Math.cos(he+B)*1,ur=Math.sin(Me+he)*2-pe*5;Te[y*3]=ir,Te[y*3+1]=lr,Te[y*3+2]=ur}V.current.attributes.position.needsUpdate=!0,de.current.rotation.z+=.001,de.current.rotation.y+=5e-4}}),(0,se.jsxs)("line",{ref:de,children:[(0,se.jsx)("bufferGeometry",{ref:V,children:(0,se.jsx)("bufferAttribute",{attach:"attributes-position",args:[Be,3]})}),(0,se.jsx)("lineBasicMaterial",{color:oe,transparent:!0,opacity:W,blending:we.AdditiveBlending})]})},tr=function(){var Ee=40,B=(0,xe.useMemo)(function(){return Array.from({length:Ee},function(de,k){return k})},[]);return(0,se.jsx)(se.Fragment,{children:B.map(function(de){return(0,se.jsx)(Oe,{index:de},de)})})},R=function(){var Ee=(0,be.D)(),B=Ee.camera,de=Ee.pointer;return(0,be.F)(function(){var k=de.x*2,Fe=-de.y*2;B.position.x+=(k-B.position.x)*.05,B.position.y+=(Fe-B.position.y)*.05,B.lookAt(0,0,0)}),null},nr=function(){return(0,se.jsx)("div",{className:"absolute inset-0 z-0 bg-[#020617]",children:(0,se.jsxs)(rr.Xz,{camera:{position:[0,0,10],fov:45},dpr:[1,2],children:[(0,se.jsx)("ambientLight",{intensity:.5}),(0,se.jsx)(tr,{}),(0,se.jsx)(R,{})]})})};$e.Z=nr},22283:function(Qr,$e,f){f.r($e),f.d($e,{default:function(){return wt}});var xe=f(15558),be=f.n(xe),rr=f(335),we=f.n(rr),se=f(82092),Oe=f.n(se),tr=f(26068),R=f.n(tr),nr=f(90228),j=f.n(nr),Ee=f(87999),B=f.n(Ee),de=f(48305),k=f.n(de),Fe=f(21889),oe=f(43953),W=f(31707),Ne=f(58979),Be=f(49598),V=f(97150),Re=f(74139),ar=f(45011),We=f(5902),Ge=f(29963),Ue=f(96988),sr=f(71392),he=f(82290),Te=f(14774),y=f(75271),pe="http://127.0.0.1:8080",Me="".concat(pe,"/api/v1/upload"),ir=function(){var Z=B()(j()().mark(function p(m){return j()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,oe.request)("".concat(pe,"/api/v1/documents/").concat(m,"/risks/status"),{method:"GET"});case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),console.error("Fetch status error:",r.t0),r.abrupt("return",null);case 10:case"end":return r.stop()}},p,null,[[0,6]])}));return function(m){return Z.apply(this,arguments)}}(),lr=function(){var Z=B()(j()().mark(function p(m){var w;return j()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,(0,oe.request)("".concat(pe,"/api/v1/documents/").concat(m,"/content"),{method:"GET"});case 3:return w=F.sent,F.abrupt("return",w);case 7:return F.prev=7,F.t0=F.catch(0),console.error("Fetch document content error:",F.t0),F.abrupt("return",null);case 11:case"end":return F.stop()}},p,null,[[0,7]])}));return function(m){return Z.apply(this,arguments)}}(),ur=function(){var Z=B()(j()().mark(function p(m){return j()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,oe.request)("".concat(pe,"/api/v1/documents/").concat(m,"/risks"),{method:"GET"});case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),console.error("Fetch risks error:",r.t0),r.abrupt("return",null);case 10:case"end":return r.stop()}},p,null,[[0,6]])}));return function(m){return Z.apply(this,arguments)}}(),dr=function(){var Z=B()(j()().mark(function p(m,w){var r;return j()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(m){l.next=2;break}return l.abrupt("return",null);case 2:return l.prev=2,l.next=5,(0,oe.request)("".concat(pe,"/api/v1/documents/").concat(m,"/risks/").concat(w),{method:"GET"});case 5:return r=l.sent,l.abrupt("return",r);case 9:return l.prev=9,l.t0=l.catch(2),console.error("Fetch risk detail error:",l.t0),l.abrupt("return",null);case 13:case"end":return l.stop()}},p,null,[[2,9]])}));return function(m,w){return Z.apply(this,arguments)}}(),Er=function(){var Z=B()(j()().mark(function p(m){var w,r=arguments;return j()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return w=r.length>1&&r[1]!==void 0?r[1]:1,l.prev=1,l.next=4,(0,oe.request)("".concat(pe,"/api/v1/documents/").concat(m,"/risks/analyze"),{method:"POST",data:{top_k:w}});case 4:return l.abrupt("return",l.sent);case 7:return l.prev=7,l.t0=l.catch(1),console.error("Trigger analysis error:",l.t0),l.abrupt("return",null);case 11:case"end":return l.stop()}},p,null,[[1,7]])}));return function(m){return Z.apply(this,arguments)}}(),qr=function(){var Z=B()(j()().mark(function p(m){return j()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,oe.request)("".concat(pe,"/api/v1/history/").concat(m),{method:"GET"});case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),console.error("Fetch history detail error:",r.t0),r.abrupt("return",null);case 10:case"end":return r.stop()}},p,null,[[0,6]])}));return function(m){return Z.apply(this,arguments)}}(),_r=function(){var Z=B()(j()().mark(function p(m){var w,r;return j()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return w=new FormData,w.append("file",m),l.next=4,fetch(Me,{method:"POST",body:w});case 4:if(r=l.sent,r.ok){l.next=7;break}throw new Error("HTTP ".concat(r.status));case 7:return l.next=9,r.json();case 9:return l.abrupt("return",l.sent);case 10:case"end":return l.stop()}},p)}));return function(m){return Z.apply(this,arguments)}}(),et=f(67825),De=f.n(et),rt=f(75487),tt=f.n(rt),jr=f(56738),nt=f(80239),at=f(96099),st=f(12914),it=f(40715),lt=f(34067),or=f.n(lt),ut=f(24661),dt=f.n(ut),ot="http://127.0.0.1:8080";function ct(Z){return cr.apply(this,arguments)}function cr(){return cr=dt()(j()().mark(function Z(p){var m,w,r,F,l,D,h,G,Y,z,X,ie,ae,T,le,J,a,b;return j()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,or()(fetch("".concat(ot,"/api/v1/chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}));case 3:if(m=d.sent,m.ok){d.next=11;break}return d.next=7,or()(m.text());case 7:return w=d.sent,d.next=10,{type:"error",message:"HTTP ".concat(m.status,": ").concat(w)};case 10:return d.abrupt("return");case 11:if(m.body){d.next=15;break}return d.next=14,{type:"error",message:"Response body is empty"};case 14:return d.abrupt("return");case 15:r=m.body.getReader(),F=new TextDecoder("utf-8"),l="",D="message";case 19:return d.next=22,or()(r.read());case 22:if(h=d.sent,G=h.value,Y=h.done,!Y){d.next=27;break}return d.abrupt("break",60);case 27:l+=F.decode(G,{stream:!0}),z=void 0;case 29:if((z=l.indexOf(`

`))===-1){d.next=58;break}X=l.slice(0,z),l=l.slice(z+2),ie=X.split(`
`),ae=D,T="",le=we()(ie);try{for(le.s();!(J=le.n()).done;)a=J.value,a.startsWith("event:")?ae=a.slice(6).trim():a.startsWith("data:")&&(T+=a.slice(5).trim())}catch(g){le.e(g)}finally{le.f()}if(b={},T)try{b=JSON.parse(T)}catch(g){console.error("Failed to parse SSE data JSON:",T)}d.t0=ae,d.next=d.t0==="text_chunk"?42:d.t0==="grounding_metadata"?46:d.t0==="error"?49:d.t0==="done"?52:55;break;case 42:if(!b.text){d.next=45;break}return d.next=45,{type:"text_chunk",text:b.text};case 45:return d.abrupt("break",56);case 46:return d.next=48,{type:"grounding_metadata",data:b};case 48:return d.abrupt("break",56);case 49:return d.next=51,{type:"error",message:b.message||"Unknown error"};case 51:return d.abrupt("break",56);case 52:return d.next=54,{type:"done"};case 54:return d.abrupt("return");case 55:return d.abrupt("break",56);case 56:d.next=29;break;case 58:d.next=19;break;case 60:d.next=66;break;case 62:return d.prev=62,d.t1=d.catch(0),d.next=66,{type:"error",message:d.t1.message||"Network error"};case 66:case"end":return d.stop()}},Z,null,[[0,62]])})),cr.apply(this,arguments)}var e=f(52676),vt=["node"],ft=["node"],ht=["node"],pt=["node"],mt=["node"],gt=["node"],xt=function(){var p=(0,y.useState)([]),m=k()(p,2),w=m[0],r=m[1],F=(0,y.useState)(""),l=k()(F,2),D=l[0],h=l[1],G=(0,y.useState)(!1),Y=k()(G,2),z=Y[0],X=Y[1],ie=(0,y.useRef)(null),ae=function(){var b;(b=ie.current)===null||b===void 0||b.scrollIntoView({behavior:"smooth"})};(0,y.useEffect)(function(){ae()},[w]);var T=function(){var a=B()(j()().mark(function b(){var E,d,g,ee,$,re,P,me,Ke,Ce,Ve;return j()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!(!D.trim()||z)){N.next=2;break}return N.abrupt("return");case 2:E={id:Date.now().toString(),role:"user",content:D},r(function(ce){return[].concat(be()(ce),[E])}),h(""),X(!0),d=w.map(function(ce){return{role:ce.role,content:ce.content}}),d.push({role:"user",content:E.content}),g=(Date.now()+1).toString(),ee={id:g,role:"assistant",content:"",isLoading:!0,groundingMetadata:void 0},r(function(ce){return[].concat(be()(ce),[ee])}),N.prev=11,$=ct({messages:d,temperature:.2}),re=!1,P=!1,N.prev=15,Ke=j()().mark(function ce(){var Q;return j()().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:Q=Ve.value,Q.type==="text_chunk"?r(function(je){return je.map(function(U){return U.id===g?R()(R()({},U),{},{content:U.content+Q.text}):U})}):Q.type==="grounding_metadata"?r(function(je){return je.map(function(U){return U.id===g?R()(R()({},U),{},{groundingMetadata:Q.data}):U})}):Q.type==="error"?(console.error("Chat error:",Q.message),r(function(je){return je.map(function(U){return U.id===g?R()(R()({},U),{},{content:U.content+`

[Error: `.concat(Q.message,"]")}):U})})):Q.type;case 2:case"end":return ze.stop()}},ce)}),Ce=tt()($);case 18:return N.next=20,Ce.next();case 20:if(!(re=!(Ve=N.sent).done)){N.next=25;break}return N.delegateYield(Ke(),"t0",22);case 22:re=!1,N.next=18;break;case 25:N.next=31;break;case 27:N.prev=27,N.t1=N.catch(15),P=!0,me=N.t1;case 31:if(N.prev=31,N.prev=32,!(re&&Ce.return!=null)){N.next=36;break}return N.next=36,Ce.return();case 36:if(N.prev=36,!P){N.next=39;break}throw me;case 39:return N.finish(36);case 40:return N.finish(31);case 41:N.next=46;break;case 43:N.prev=43,N.t2=N.catch(11),console.error("Stream error:",N.t2);case 46:return N.prev=46,X(!1),r(function(ce){return ce.map(function(Q){return Q.id===g?R()(R()({},Q),{},{isLoading:!1}):Q})}),N.finish(46);case 50:case"end":return N.stop()}},b,null,[[11,43,46,50],[15,27,31,41],[32,,36,40]])}));return function(){return a.apply(this,arguments)}}(),le=function(b){b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),T())},J=function(b){if(!(b!=null&&b.urls)||b.urls.length===0)return null;var E=b.urls.map(function(g){var ee,$=(ee=b.grounding_chunks)===null||ee===void 0?void 0:ee.find(function(P){return P.web.uri===g}),re=($==null?void 0:$.web.title)||new URL(g).hostname;return{url:g,title:re}}),d=Array.from(new Map(E.map(function(g){return[g.url,g]})).values());return(0,e.jsxs)("div",{className:"grounding-section",children:[(0,e.jsx)("div",{className:"section-title",children:"\u53C2\u8003\u6765\u6E90"}),(0,e.jsx)("div",{className:"grounding-cards",children:d.map(function(g,ee){var $=new URL(g.url).hostname;return(0,e.jsxs)("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"vercel-link-card",children:[(0,e.jsxs)("div",{className:"card-header",children:[(0,e.jsx)("img",{src:"https://www.google.com/s2/favicons?domain=".concat($),alt:"",className:"card-icon",onError:function(P){P.target.style.display="none"}}),(0,e.jsx)("div",{className:"card-title",title:g.title,children:g.title})]}),(0,e.jsx)("div",{className:"card-url",title:g.url,children:g.url})]},ee)})})]})};return(0,e.jsxs)("div",{className:"chat-panel",children:[(0,e.jsxs)("div",{className:"chat-messages",children:[w.length===0&&(0,e.jsxs)("div",{className:"text-center text-slate-500 mt-10",children:[(0,e.jsx)(jr.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,e.jsx)("p",{children:"\u6709\u4EC0\u4E48\u6211\u53EF\u4EE5\u5E2E\u60A8\u7684\u5417\uFF1F"}),(0,e.jsx)("p",{className:"text-sm opacity-70",children:"\u60A8\u53EF\u4EE5\u8BE2\u95EE\u5173\u4E8E\u5408\u540C\u6761\u6B3E\u3001\u98CE\u9669\u6216\u6CD5\u5F8B\u4F9D\u636E\u7684\u95EE\u9898\u3002"})]}),w.map(function(a){return(0,e.jsx)("div",{className:"message ".concat(a.role),children:(0,e.jsxs)("div",{className:"flex flex-row items-end gap-2 w-full",children:[a.role==="assistant"&&(0,e.jsx)("div",{className:"w-6 h-6 rounded-full bg-brand-500/20 flex items-center justify-center border border-brand-500/30 shrink-0 self-start mt-1",children:(0,e.jsx)(jr.Z,{size:14,className:"text-brand-400"})}),(0,e.jsxs)("div",{className:"flex flex-col max-w-full min-w-0 flex-1",children:[(0,e.jsxs)("div",{className:"message-content",children:[(0,e.jsx)(st.UG,{remarkPlugins:[it.Z],components:{a:function(E){var d=E.node,g=De()(E,vt);return(0,e.jsx)("a",R()(R()({},g),{},{target:"_blank",rel:"noopener noreferrer",className:"text-brand-400 hover:underline"}))},code:function(E){var d=E.node,g=De()(E,ft);return(0,e.jsx)("code",R()(R()({},g),{},{className:"bg-black/30 rounded px-1 py-0.5 font-mono text-sm"}))},pre:function(E){var d=E.node,g=De()(E,ht);return(0,e.jsx)("pre",R()(R()({},g),{},{className:"bg-black/30 rounded p-2 overflow-x-auto my-2"}))},ul:function(E){var d=E.node,g=De()(E,pt);return(0,e.jsx)("ul",R()(R()({},g),{},{className:"list-disc list-inside my-2 space-y-1"}))},ol:function(E){var d=E.node,g=De()(E,mt);return(0,e.jsx)("ol",R()(R()({},g),{},{className:"list-decimal list-inside my-2 space-y-1"}))},p:function(E){var d=E.node,g=De()(E,gt);return(0,e.jsx)("p",R()(R()({},g),{},{className:"mb-2 last:mb-0"}))}},children:a.content}),a.isLoading&&(0,e.jsx)("span",{className:"inline-block w-2 h-4 ml-1 align-middle bg-brand-400 animate-pulse"})]}),a.role==="assistant"&&J(a.groundingMetadata)]}),a.role==="user"&&(0,e.jsx)("div",{className:"w-6 h-6 rounded-full bg-slate-700 flex items-center justify-center border border-slate-600 shrink-0",children:(0,e.jsx)(nt.Z,{size:14,className:"text-slate-300"})})]})},a.id)}),(0,e.jsx)("div",{ref:ie})]}),(0,e.jsx)("div",{className:"chat-input-area",children:(0,e.jsxs)("div",{className:"input-wrapper",children:[(0,e.jsx)(We.Z.TextArea,{value:D,onChange:function(b){return h(b.target.value)},onKeyDown:le,placeholder:"\u8F93\u5165\u60A8\u7684\u95EE\u9898...",autoSize:{minRows:1,maxRows:4},disabled:z}),(0,e.jsx)(V.ZP,{type:"primary",icon:(0,e.jsx)(at.Z,{size:16}),onClick:T,loading:z,className:"!bg-brand-600 !flex !items-center !justify-center !h-auto"})]})})]})},bt=xt,_=function(p){return p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},wr=function(p){var m=function(r){return String(r).padStart(2,"0")};return"".concat(p.getFullYear(),"-").concat(m(p.getMonth()+1),"-").concat(m(p.getDate())," ").concat(m(p.getHours()),":").concat(m(p.getMinutes()))},yt=function(p,m){var w=be()(m).sort(function(G,Y){return G.range.start-Y.range.start}),r="",F=0,l=we()(w),D;try{for(l.s();!(D=l.n()).done;){var h=D.value;h.range.start<F||h.range.start<0||h.range.end>p.length||h.range.end<=h.range.start||(r+=_(p.substring(F,h.range.start)),r+='<mark class="hl '.concat(h.type,'">').concat(_(p.substring(h.range.start,h.range.end)),"</mark>"),F=h.range.end)}}catch(G){l.e(G)}finally{l.f()}return r+=_(p.substring(F)),r},Fr=function(p,m){var w,r=[],F=[],l=[],D=(w=m!=null?m:p.raw_content)!==null&&w!==void 0?w:"";return p.risks.forEach(function(h){var G,Y,z="risk-".concat(h.identifier),X=h.detected_issue||"",ie=X.match(/^(.{0,25})/),ae=ie?ie[1]+(X.length>25?"...":""):"\u98CE\u9669\u63D0\u793A",T=h.legal_basis.map(function($,re){return{id:"legal-".concat(h.identifier,"-").concat(re),lawName:$.law_name,article:$.order,content:$.content,score:$.relevance_score,explanation:void 0,relatedRange:h.highlight_range}});T.forEach(function($){F.find(function(re){return re.lawName===$.lawName&&re.article===$.article})||F.push($)});var le={id:z,identifier:h.identifier,level:h.level,title:ae,content:X,suggestion:h.suggestions,highlightRange:h.highlight_range,legalBasis:T};r.push(le);var J=(G=h==null?void 0:h.suggested_revision)!==null&&G!==void 0?G:h==null?void 0:h.revised_text,a=h==null?void 0:h.original_text,b=(Y=h==null?void 0:h.revision_rationale)!==null&&Y!==void 0?Y:h==null?void 0:h.suggestion_reason;if(J){var E="";if(D&&h.highlight_range){var d=h.highlight_range,g=d.start,ee=d.end;g>=0&&ee<=D.length&&(E=D.substring(g,ee))}a&&(E=a),E?E.length>100&&(E=E.substring(0,100)+"..."):E=X.substring(0,50)+(X.length>50?"...":""),l.push({id:"sug-".concat(h.identifier),original:E,revised:J,reason:b||"\u9488\u5BF9\u98CE\u9669\uFF1A".concat(ae),highlightRange:h.highlight_range})}}),{contractText:D||void 0,risks:r,suggestions:l,legalBasis:F}},Et=function(p,m,w){var r=(m!=null?m:[]).filter(function(P){return w[P.id]==="accepted"}),F=be()(r).filter(function(P){return(P==null?void 0:P.highlightRange)&&Number.isFinite(P.highlightRange.start)&&Number.isFinite(P.highlightRange.end)&&P.highlightRange.end>P.highlightRange.start}).sort(function(P,me){return P.highlightRange.start-me.highlightRange.start}),l="",D=0,h=[],G=[],Y=[],z=-1,X=we()(F),ie;try{for(X.s();!(ie=X.n()).done;){var ae,T=ie.value,le=T.highlightRange,J=le.start,a=le.end;if(J<0||a>p.length||a<=J){G.push(T.id);continue}if(J<z){G.push(T.id);continue}if(J>D){var b=l.length;l+=p.slice(D,J);var E=l.length;Y.push({kind:"copy",baseStart:D,baseEnd:J,outStart:b,outEnd:E})}var d=l.length,g=(ae=T.revised)!==null&&ae!==void 0?ae:"";l+=g;var ee=l.length;Y.push({kind:"replace",suggestionId:T.id,baseStart:J,baseEnd:a,outStart:d,outEnd:ee}),h.push({suggestionId:T.id,range:{start:d,end:ee}}),D=a,z=a}}catch(P){X.e(P)}finally{X.f()}if(D<p.length){var $=l.length;l+=p.slice(D);var re=l.length;Y.push({kind:"copy",baseStart:D,baseEnd:p.length,outStart:$,outEnd:re})}return{text:l,appliedEdits:h,skippedIds:G,segments:Y}},jt=function(){var p=(0,oe.useSearchParams)(),m=k()(p,1),w=m[0],r=w.get("fileId"),F=w.get("topK"),l=w.get("fromHistory")==="true",D=F?parseInt(F,10):1,h=(0,y.useState)(!0),G=k()(h,2),Y=G[0],z=G[1],X=(0,y.useState)("init"),ie=k()(X,2),ae=ie[0],T=ie[1],le=(0,y.useState)(null),J=k()(le,2),a=J[0],b=J[1],E=(0,y.useState)(""),d=k()(E,2),g=d[0],ee=d[1],$=(0,y.useState)(""),re=k()($,2),P=re[0],me=re[1],Ke=(0,y.useState)(!1),Ce=k()(Ke,2),Ve=Ce[0],Ze=Ce[1],N=(0,y.useState)(null),ce=k()(N,2),Q=ce[0],Ye=ce[1],ze=(0,y.useState)("risk"),je=k()(ze,2),U=je[0],vr=je[1],Ft=(0,y.useState)(!1),Nr=k()(Ft,2),Nt=Nr[0],fr=Nr[1],Ct=(0,y.useState)(["risks","suggestions","contract"]),Cr=k()(Ct,2),kr=Cr[0],kt=Cr[1],At=(0,y.useState)(!0),Ar=k()(At,2),Sr=Ar[0],St=Ar[1],Bt=(0,y.useState)(null),Br=k()(Bt,2),q=Br[0],hr=Br[1],Dt=(0,y.useState)(null),Dr=k()(Dt,2),A=Dr[0],Pe=Dr[1],Pt=(0,y.useState)(!1),Pr=k()(Pt,2),Xe=Pr[0],Ie=Pr[1],Rt=(0,y.useState)("analysis"),Rr=k()(Rt,2),He=Rr[0],Tr=Rr[1],Tt=(0,y.useState)({}),Mr=k()(Tt,2),Zr=Mr[0],pr=Mr[1],Mt=(0,y.useState)([]),zr=k()(Mt,2),mr=zr[0],Je=zr[1],Zt=(0,y.useState)([]),Ir=k()(Zt,2),zt=Ir[0],Hr=Ir[1],Lr=(0,y.useRef)(null),$r="contractAnalysis:leftPanePercent",Or=function(n,i,s){return Math.min(s,Math.max(i,n))},It=(0,y.useState)(function(){try{var c=localStorage.getItem($r),n=c?Number(c):NaN;if(Number.isFinite(n))return Or(n,25,75)}catch(i){}return 50}),Wr=k()(It,2),gr=Wr[0],Ht=Wr[1],Qe=(0,y.useRef)(null);(0,y.useEffect)(function(){try{localStorage.setItem($r,String(gr))}catch(c){}},[gr]);var Lt=(0,y.useRef)(null),Le=(0,y.useRef)(null),$t=function(n){if(!(n.pointerType==="mouse"&&n.button!==0)){Qe.current={dragging:!0};try{n.currentTarget.setPointerCapture(n.pointerId)}catch(i){}document.body.style.cursor="col-resize",document.body.style.userSelect="none"}},Ot=function(n){var i;if((i=Qe.current)!==null&&i!==void 0&&i.dragging){var s=Lr.current;if(s){var t=s.getBoundingClientRect();if(t.width){var u=(n.clientX-t.left)/t.width*100;Ht(Or(u,25,75))}}}},Gr=function(){var n;(n=Qe.current)!==null&&n!==void 0&&n.dragging&&(Qe.current=null,document.body.style.cursor="",document.body.style.userSelect="")},Wt=function(){var c=B()(j()().mark(function n(){var i,s,t,u,x,o,S,K,ue,ve,te;return j()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(r){M.next=2;break}return M.abrupt("return");case 2:return M.next=4,Promise.all([lr(r),ur(r)]);case 4:if(i=M.sent,s=k()(i,2),t=s[0],u=s[1],t!=null&&t.raw_content&&ee(t.raw_content),!(u&&u.status==="success")){M.next=20;break}if(o=Fr(u,(x=t==null?void 0:t.raw_content)!==null&&x!==void 0?x:g),b(o),!(u.risks&&u.risks.length>0)){M.next=18;break}return K=(S=u.risks.find(function(ye){return ye.identifier==="0"}))!==null&&S!==void 0?S:u.risks[0],M.next=16,dr(r,K.identifier);case 16:ue=M.sent,ue&&(hr(ue),ve="risk-".concat(K.identifier),me(ve),te=document.getElementById(ve),te&&te.scrollIntoView({behavior:"smooth",block:"center"}));case 18:M.next=21;break;case 20:W.ZP.error("\u83B7\u53D6\u5206\u6790\u7ED3\u679C\u5931\u8D25");case 21:z(!1);case 22:case"end":return M.stop()}},n)}));return function(){return c.apply(this,arguments)}}(),Gt=function c(){Le.current&&clearTimeout(Le.current),r&&(Le.current=setTimeout(B()(j()().mark(function n(){var i;return j()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ir(r);case 2:if(i=t.sent,i){t.next=6;break}return c(),t.abrupt("return");case 6:if(i.status!=="success"){t.next=13;break}return T("success"),W.ZP.success("\u5206\u6790\u5B8C\u6210\uFF01"),t.next=11,Wt();case 11:t.next=14;break;case 13:i.status==="failed"?(T("failed"),z(!1),W.ZP.error(i.error||"\u5206\u6790\u5931\u8D25")):c();case 14:case"end":return t.stop()}},n)})),2e3))},Ur=function(){var c=B()(j()().mark(function n(){var i;return j()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return T("analyzing"),t.next=5,Er(r,D);case 5:if(i=t.sent,i){t.next=13;break}return console.log("First analysis trigger failed, retrying in 1s..."),t.next=10,new Promise(function(u){setTimeout(u,1e3)});case 10:return t.next=12,Er(r,D);case 12:i=t.sent;case 13:i&&i.status==="analyzing"?(W.ZP.info("\u5F00\u59CB\u667A\u80FD\u5206\u6790..."),Gt()):(T("failed"),z(!1),W.ZP.error("\u89E6\u53D1\u5206\u6790\u5931\u8D25\uFF0C\u53EF\u80FD\u662F\u6587\u6863\u5C1A\u672A\u51C6\u5907\u597D\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"));case 14:case"end":return t.stop()}},n)}));return function(){return c.apply(this,arguments)}}(),Ut=function(){var c=B()(j()().mark(function n(){var i,s,t,u,x;return j()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(z(!0),!(l&&r)){S.next=14;break}return S.next=4,qr(r);case 4:if(s=S.sent,!(s!=null&&s.success&&((i=s.data)===null||i===void 0?void 0:i.risk_status)==="success")){S.next=14;break}return T("success"),t=s.data.raw_content||"",ee(t),u={uuid:r,raw_content:t,risks:s.data.risks||[],generated_at:s.data.risks_generated_at||"",analyzer_version:"",data_inconsistent:!1,status:"success"},x=Fr(u,t),b(x),z(!1),S.abrupt("return");case 14:return S.next=16,Ur();case 16:case"end":return S.stop()}},n)}));return function(){return c.apply(this,arguments)}}();(0,y.useEffect)(function(){if(!r){W.ZP.error("\u7F3A\u5C11\u6587\u4EF6ID\uFF0C\u8BF7\u91CD\u65B0\u4E0A\u4F20"),oe.history.push("/");return}return Pe(null),Ie(!1),pr({}),Je([]),Ut(),function(){Le.current&&clearTimeout(Le.current)}},[r]);var Kt=function(){var c=B()(j()().mark(function n(){return j()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r){s.next=2;break}return s.abrupt("return");case 2:return z(!0),s.next=5,Ur();case 5:case"end":return s.stop()}},n)}));return function(){return c.apply(this,arguments)}}(),Vt=function(){oe.history.push("/")},Kr=function(n){vr("risk"),Ye(n),Ze(!0)},Yt=function(n){vr("suggestion"),Ye(n),Ze(!0)},Xt=function(n){vr("legal"),Ye(n),Ze(!0)},Vr=function(n,i){if(r){if(n==="risk"){var s=a==null?void 0:a.risks.find(function(x){return x.id===i});s&&(me(i),dr(r,s.identifier).then(function(x){x&&hr(x)}),Kr(s))}else if(n==="suggestion"){me(i);var t=a==null?void 0:a.suggestions.find(function(x){return x.id===i});t&&Yt(t)}else if(n==="legal"){me(i);var u=a==null?void 0:a.legalBasis.find(function(x){return x.id===i});u&&Xt(u)}}},Jt=function(){if(!a||!a.contractText)return g?(0,e.jsx)("pre",{className:"whitespace-pre-wrap",children:g}):(0,e.jsx)("div",{className:"text-gray-400 text-center py-10",children:"\u6682\u65E0\u5408\u540C\u6587\u672C\u5185\u5BB9"});var n=a.contractText,i=a.risks,s=a.legalBasis,t=[];i.forEach(function(o){t.push({range:o.highlightRange,type:"risk",id:o.id,riskLevel:o.level})}),s.forEach(function(o){t.push({range:o.relatedRange,type:"legal",id:o.id})}),t.sort(function(o,S){return o.range.start-S.range.start});var u=[],x=0;return t.forEach(function(o,S){o.range.start<x||o.range.end>n.length||(o.range.start>x&&u.push((0,e.jsx)("span",{children:n.substring(x,o.range.start)},"text-".concat(S))),u.push((0,e.jsx)("mark",{className:"highlight ".concat(o.type," ").concat(o.type==="risk"&&o.riskLevel?"risk-".concat(o.riskLevel):""," ").concat(P===o.id?"active":""),id:o.id,onClick:function(){return Vr(o.type,o.id)},children:n.substring(o.range.start,o.range.end)},"highlight-".concat(o.id))),x=o.range.end)}),x<n.length&&u.push((0,e.jsx)("span",{children:n.substring(x)},"text-end")),u},qe=function(){return A!=null?A:(a==null?void 0:a.contractText)||g||""},xr=function(){return(a==null?void 0:a.contractText)||g||""},Qt=function(){var n=qe();if(!n){W.ZP.warning("\u6682\u65E0\u53EF\u7F16\u8F91\u7684\u5408\u540C\u6587\u672C");return}Pe(n),Ie(!0)},qt=function(){Ie(!1),W.ZP.success("\u5DF2\u5728\u9875\u9762\u4E2D\u4FDD\u5B58\u4FEE\u6539\uFF08\u672A\u4E0A\u4F20\u81F3\u670D\u52A1\u5668\uFF09")},Yr=function(){Pe(null),Ie(!1),Je([]),pr({}),W.ZP.info("\u5DF2\u64A4\u9500\u4FEE\u6539")},_t=function(n){var i;return(i=Zr[n])!==null&&i!==void 0?i:"undecided"},en=function(n){var i=xr();if(!(!a||!i)){var s=Et(i,a.suggestions,n),t=s.text,u=s.appliedEdits,x=s.skippedIds,o=s.segments;Pe(t),Ie(!1),Je(u),Hr(o),x.length&&W.ZP.warning("\u6709 ".concat(x.length," \u6761\u5EFA\u8BAE\u56E0\u8303\u56F4\u91CD\u53E0/\u5F02\u5E38\u672A\u80FD\u5E94\u7528"))}},br=function(n,i){if(a){if(Xe){W.ZP.warning("\u8BF7\u5148\u70B9\u51FB\u201C\u5B8C\u6210/\u64A4\u9500\u201D\u9000\u51FA\u624B\u52A8\u7F16\u8F91\uFF0C\u518D\u8FDB\u884C\u5EFA\u8BAE\u91C7\u7EB3");return}var s=R()(R()({},Zr),{},Oe()({},n,i));pr(s);var t=Object.values(s).some(function(u){return u==="accepted"});if(!t){Hr([]),Pe(null),Je([]);return}en(s)}},rn=function(){var n,i;if(!A)return null;if(!mr.length){var s=xr();if(!s||s===A)return(0,e.jsx)("pre",{className:"whitespace-pre-wrap",children:A});for(var t=Math.min(s.length,A.length),u=0;u<t&&s[u]===A[u];)u+=1;for(var x=0;x<t-u&&s[s.length-1-x]===A[A.length-1-x];)x+=1;var o=u,S=A.length-x;return S<=o?(0,e.jsx)("pre",{className:"whitespace-pre-wrap",children:A}):(0,e.jsxs)("div",{className:"whitespace-pre-wrap",children:[(0,e.jsx)("span",{children:A.slice(0,o)}),(0,e.jsx)("mark",{className:"highlight edit",children:A.slice(o,S)}),(0,e.jsx)("span",{children:A.slice(S)})]})}var K=function(v){var H=we()(zt),ne;try{for(H.s();!(ne=H.n()).done;){var L=ne.value;if(!(v<L.baseStart||v>L.baseEnd)){if(L.kind!=="copy")return null;var ge=v-L.baseStart,fe=L.outStart+ge;return fe<L.outStart||fe>L.outEnd?null:fe}}}catch(Se){H.e(Se)}finally{H.f()}return null},ue=function(v){var H=K(v.start),ne=K(v.end);return H===null||ne===null||ne<=H?null:{start:H,end:ne}},ve=function(v,H){return v.start<H.end&&H.start<v.end},te=function(v,H){var ne=[],L=v.start,ge=we()(H),fe;try{for(ge.s();!(fe=ge.n()).done;){var Se=fe.value;if(!(Se.end<=L)){if(Se.start>=v.end)break;if(ve({start:L,end:v.end},Se)){var Jr=Math.min(Se.start,v.end);if(Jr>L&&ne.push({start:L,end:Jr}),L=Math.max(L,Se.end),L>=v.end)break}}}}catch(er){ge.e(er)}finally{ge.f()}return L<v.end&&ne.push({start:L,end:v.end}),ne.filter(function(er){return er.end>er.start})},O=be()(mr).map(function(C){return C.range}).filter(function(C){return C.end>C.start}).sort(function(C,v){return C.start-v.start}),M=[];mr.forEach(function(C){C.range.end<=C.range.start||M.push({key:"edit-".concat(C.suggestionId),range:C.range,type:"edit",id:"edit-".concat(C.suggestionId),suggestionId:C.suggestionId})});var ye=(n=a==null?void 0:a.risks)!==null&&n!==void 0?n:[],ke=(i=a==null?void 0:a.legalBasis)!==null&&i!==void 0?i:[];ye.forEach(function(C){var v=ue(C.highlightRange);if(v){var H=te(v,O);H.forEach(function(ne,L){M.push({key:"".concat(C.id,"__").concat(L),range:ne,type:"risk",id:C.id,riskLevel:C.level})})}}),ke.forEach(function(C){var v=ue(C.relatedRange);if(v){var H=te(v,O);H.forEach(function(ne,L){M.push({key:"".concat(C.id,"__").concat(L),range:ne,type:"legal",id:C.id})})}}),M.sort(function(C,v){return C.range.start!==v.range.start?C.range.start-v.range.start:C.type==="edit"&&v.type!=="edit"?-1:v.type==="edit"&&C.type!=="edit"?1:C.range.end-v.range.end});for(var Ae=[],I=0,yr=function(){var v=M[_e];if(v.range.start<I||v.range.end>A.length)return 0;if(v.range.start>I&&Ae.push((0,e.jsx)("span",{children:A.slice(I,v.range.start)},"mix-text-".concat(_e))),v.type==="edit"){var H=v.suggestionId;Ae.push((0,e.jsx)("mark",{id:"edit-".concat(H),className:"highlight edit ".concat(P==="edit-".concat(H)?"active":""),onClick:function(){me("edit-".concat(H));var L=H.replace(/^sug-/,""),ge=a==null?void 0:a.risks.find(function(fe){return fe.identifier===L});ge&&(dr(r||"",ge.identifier).then(function(fe){fe&&hr(fe)}),Kr(ge))},children:A.slice(v.range.start,v.range.end)},"mix-edit-".concat(H)))}else Ae.push((0,e.jsx)("mark",{className:"highlight ".concat(v.type," ").concat(v.type==="risk"&&v.riskLevel?"risk-".concat(v.riskLevel):""," ").concat(P===v.id?"active":""),id:v.id,onClick:function(){return Vr(v.type,v.id)},children:A.slice(v.range.start,v.range.end)},v.key));I=v.range.end},Xr,_e=0;_e<M.length;_e+=1)Xr=yr();return I<A.length&&Ae.push((0,e.jsx)("span",{children:A.slice(I)},"mix-text-end")),(0,e.jsx)("div",{className:"whitespace-pre-wrap",children:Ae})},tn=function(){var c=B()(j()().mark(function n(){var i,s,t,u;return j()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=A,i){o.next=4;break}return W.ZP.warning("\u8BF7\u5148\u7F16\u8F91\u6216\u5E94\u7528\u5EFA\u8BAE"),o.abrupt("return");case 4:return o.prev=4,z(!0),t=new File([i],"edited-".concat(r||"contract",".txt"),{type:"text/plain"}),o.next=9,_r(t);case 9:if(u=o.sent,!(u!=null&&u.success&&u!==null&&u!==void 0&&(s=u.data)!==null&&s!==void 0&&s.uuid)){o.next=14;break}return W.ZP.success("\u5DF2\u4E0A\u4F20\u4FEE\u6539\u7248\uFF0C\u5F00\u59CB\u91CD\u65B0\u5206\u6790"),oe.history.push("/contract-analysis?fileId=".concat(u.data.uuid)),o.abrupt("return");case 14:z(!1),W.ZP.error((u==null?void 0:u.message)||"\u4E0A\u4F20\u5931\u8D25"),o.next=23;break;case 18:o.prev=18,o.t0=o.catch(4),console.error(o.t0),z(!1),W.ZP.error("\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 23:case"end":return o.stop()}},n,null,[[4,18]])}));return function(){return c.apply(this,arguments)}}(),nn=function(){if(!a)return[];var n=a.risks,i=a.suggestions,s=a.legalBasis,t=[];return n.forEach(function(u){t.push({range:u.highlightRange,type:"risk",id:u.id})}),i.forEach(function(u){t.push({range:u.highlightRange,type:"suggestion",id:u.id})}),s.forEach(function(u){t.push({range:u.relatedRange,type:"legal",id:u.id})}),t.sort(function(u,x){return u.range.start-x.range.start}),t},an=function(){var n,i,s,t=new Date,u=qe(),x=Sr&&!A,o=new Set(kr),S=o.has("contract"),K=o.has("risks"),ue=o.has("suggestions"),ve=o.has("legal"),te="\u5408\u540C\u5206\u6790\u7ED3\u679C\uFF08\u5BFC\u51FA\uFF09",O="\u5BFC\u51FA\u65F6\u95F4\uFF1A".concat(wr(t)).concat(r?" \xB7 \u6587\u4EF6ID\uFF1A".concat(_(r)):""),M=K?((n=a==null?void 0:a.risks)!==null&&n!==void 0?n:[]).map(function(I){var yr=I.level==="high"?"\u9AD8\u98CE\u9669":I.level==="medium"?"\u4E2D\u98CE\u9669":"\u4F4E\u98CE\u9669";return`
              <div class="item">
                <div class="item-title">
                  <span class="badge `.concat(_(I.level),'">').concat(yr,`</span>
                  <span class="item-head">`).concat(_(I.title),`</span>
                </div>
                <div class="item-body">`).concat(_(I.content),`</div>
                `).concat(I.suggestion?'<div class="item-sub"><span class="muted">\u5EFA\u8BAE\uFF1A</span>'.concat(_(I.suggestion),"</div>"):"",`
              </div>
            `)}).join(""):"",ye=ue?((i=a==null?void 0:a.suggestions)!==null&&i!==void 0?i:[]).map(function(I){return`
              <div class="item">
                <div class="item-title">
                  <span class="badge info">\u4FEE\u6539\u5EFA\u8BAE</span>
                  <span class="item-head">`.concat(_(I.reason||"\u5EFA\u8BAE"),`</span>
                </div>
                <div class="diff">
                  <div class="diff-row">
                    <div class="diff-label">\u539F\u6587</div>
                    <div class="diff-content original">`).concat(_(I.original),`</div>
                  </div>
                  <div class="diff-row">
                    <div class="diff-label">\u4FEE\u6539\u4E3A</div>
                    <div class="diff-content revised">`).concat(_(I.revised),`</div>
                  </div>
                </div>
              </div>
            `)}).join(""):"",ke=ve?((s=a==null?void 0:a.legalBasis)!==null&&s!==void 0?s:[]).map(function(I){return`
              <div class="item">
                <div class="item-title">
                  <span class="badge legal">\u6CD5\u5F8B\u4F9D\u636E</span>
                  <span class="item-head">`.concat(_(I.lawName)," ").concat(_(I.article),`</span>
                </div>
                <div class="item-body">`).concat(_(I.content),`</div>
                <div class="item-sub"><span class="muted">\u76F8\u5173\u5EA6\uFF1A</span>`).concat((I.score*100).toFixed(0),`%</div>
              </div>
            `)}).join(""):"",Ae=S?x&&a?'<div class="contract-text"><div class="contract-pre">'.concat(yt(u,nn()).replace(/\n/g,"<br/>"),"</div></div>"):'<div class="contract-text"><div class="contract-pre">'.concat(_(u).replace(/\n/g,"<br/>"),"</div></div>"):"";return`
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>`.concat(_(te),`</title>
    <style>
      @page { margin: 16mm 14mm; }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif;
        color: #111827;
        line-height: 1.55;
      }
      .header { margin-bottom: 14px; }
      .title { font-size: 18px; font-weight: 700; margin: 0 0 4px 0; }
      .subtitle { font-size: 12px; color: #6b7280; margin: 0; }
      .section { margin-top: 14px; }
      .section-title { font-size: 13px; font-weight: 700; margin: 0 0 8px 0; }
      .divider { height: 1px; background: #e5e7eb; margin: 10px 0; }
      .item { border: 1px solid #e5e7eb; border-radius: 8px; padding: 10px 12px; margin: 10px 0; break-inside: avoid; }
      .item-title { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; }
      .item-head { font-weight: 700; }
      .item-body { font-size: 12px; color: #111827; }
      .item-sub { font-size: 12px; color: #374151; margin-top: 6px; }
      .muted { color: #6b7280; }
      .badge { display: inline-block; font-size: 11px; padding: 2px 8px; border-radius: 999px; border: 1px solid #e5e7eb; background: #f9fafb; color: #111827; }
      .badge.high { background: #fff1f2; border-color: #fecdd3; color: #9f1239; }
      .badge.medium { background: #fff7ed; border-color: #fed7aa; color: #9a3412; }
      .badge.low { background: #f0fdf4; border-color: #bbf7d0; color: #166534; }
      .badge.info { background: #eff6ff; border-color: #bfdbfe; color: #1d4ed8; }
      .badge.legal { background: #f5f3ff; border-color: #ddd6fe; color: #5b21b6; }
      .diff { margin-top: 6px; }
      .diff-row { display: flex; gap: 10px; margin-top: 6px; }
      .diff-label { width: 52px; font-size: 12px; color: #6b7280; flex: 0 0 auto; }
      .diff-content { font-size: 12px; padding: 8px 10px; border-radius: 6px; border: 1px solid #e5e7eb; width: 100%; }
      .diff-content.original { background: #fff1f2; border-color: #fecdd3; }
      .diff-content.revised { background: #f0fdf4; border-color: #bbf7d0; }
      .contract-text { margin-top: 8px; }
      .contract-pre { font-size: 12px; white-space: normal; word-break: break-word; }
      mark.hl { padding: 0 2px; border-radius: 3px; }
      mark.hl.risk { background: #ffe4e6; }
      mark.hl.suggestion { background: #dbeafe; }
      mark.hl.legal { background: #ede9fe; }
      .print-hint { font-size: 12px; color: #6b7280; margin-top: 10px; }
      .footer { position: fixed; bottom: 0; left: 0; right: 0; font-size: 10px; color: #9ca3af; }
      .footer-inner { display: flex; justify-content: space-between; }
      @media print {
        .no-print { display: none !important; }
      }
    </style>
  </head>
  <body>
    <div class="header">
      <div class="title">`).concat(_(te),`</div>
      <p class="subtitle">`).concat(O,`</p>
      <div class="print-hint no-print">\u63D0\u793A\uFF1A\u5728\u6253\u5370\u5BF9\u8BDD\u6846\u4E2D\u9009\u62E9\u201C\u4FDD\u5B58\u4E3A PDF\u201D\u5373\u53EF\u5BFC\u51FA\u3002</div>
      <div class="divider"></div>
    </div>

    `).concat(K?'<div class="section"><div class="section-title">\u98CE\u9669\u6458\u8981</div>'.concat(M||'<div class="muted">\u6682\u65E0\u98CE\u9669</div>',"</div>"):"",`
    `).concat(ue?'<div class="section"><div class="section-title">\u4FEE\u6539\u5EFA\u8BAE</div>'.concat(ye||'<div class="muted">\u6682\u65E0\u4FEE\u6539\u5EFA\u8BAE</div>',"</div>"):"",`
    `).concat(ve?'<div class="section"><div class="section-title">\u6CD5\u5F8B\u4F9D\u636E</div>'.concat(ke||'<div class="muted">\u6682\u65E0\u6CD5\u5F8B\u4F9D\u636E</div>',"</div>"):"",`
    `).concat(S?'<div class="section"><div class="section-title">\u5408\u540C\u6B63\u6587</div>'.concat(Ae||'<div class="muted">\u6682\u65E0\u6B63\u6587</div>',"</div>"):"",`

    <div class="footer">
      <div class="footer-inner">
        <span>LegalRag</span>
        <span>`).concat(wr(t),`</span>
      </div>
    </div>
  </body>
</html>
    `).trim()},sn=function(){var n,i=qe();if(!i){W.ZP.error("\u6682\u65E0\u53EF\u5BFC\u51FA\u7684\u5408\u540C\u6587\u672C");return}var s=an(),t=document.createElement("iframe");t.style.position="fixed",t.style.right="0",t.style.bottom="0",t.style.width="0",t.style.height="0",t.style.border="none",document.body.appendChild(t);var u=t.contentDocument||((n=t.contentWindow)===null||n===void 0?void 0:n.document);if(!u){W.ZP.error("\u65E0\u6CD5\u521B\u5EFA\u6253\u5370\u6587\u6863"),document.body.removeChild(t);return}u.open(),u.write(s),u.close(),t.onload=function(){setTimeout(function(){try{if(!t.contentWindow)return;t.contentWindow.focus(),t.contentWindow.print()}catch(x){console.error("Print error:",x),W.ZP.error("\u6253\u5370\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5")}finally{setTimeout(function(){document.body.contains(t)&&document.body.removeChild(t)},1e3)}},300)}},ln=function(){if(!Q)return null;if(U==="risk"){var n,i,s=Q,t=(n=s.legalBasis)!==null&&n!==void 0?n:[],u=t.length>0,x="sug-".concat(s.identifier),o=a==null||(i=a.suggestions)===null||i===void 0?void 0:i.find(function(O){return O.id===x}),S=(q==null?void 0:q.identifier)===s.identifier&&q!==null&&q!==void 0&&q.suggested_revision?{id:x,original:function(){var O=xr(),M=s.highlightRange||{start:0,end:0},ye=M.start,ke=M.end;return O&&ye>=0&&ke>ye&&ke<=O.length?O.slice(ye,ke):""}(),revised:q.suggested_revision,reason:"\u9488\u5BF9\u98CE\u9669\uFF1A".concat(s.title),highlightRange:s.highlightRange}:null,K=S!=null?S:o,ue=K?_t(K.id):"undecided";return(0,e.jsxs)("div",{className:"detail-modal dark-modal",children:[(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u98CE\u9669\u7B49\u7EA7"}),(0,e.jsx)(Ne.Z,{className:"!border-none !px-4 !py-1 !rounded-full",color:s.level==="high"?"#f5222d":s.level==="medium"?"#fa8c16":"#52c41a",children:s.level==="high"?"\u9AD8\u98CE\u9669":s.level==="medium"?"\u4E2D\u98CE\u9669":"\u4F4E\u98CE\u9669"})]}),(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u98CE\u9669\u63CF\u8FF0"}),(0,e.jsx)("div",{className:"section-content !bg-white/5 !text-slate-200 !border-white/10 !rounded-xl !p-4",children:s.content})]}),s.suggestion&&(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u5EFA\u8BAE\u63AA\u65BD"}),(0,e.jsx)("div",{className:"section-content !bg-brand-500/10 !text-brand-100 !border-brand-500/20 !rounded-xl !p-4",children:s.suggestion})]}),K?(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u5177\u4F53\u4FEE\u6539\u65B9\u6848"}),(0,e.jsxs)("div",{className:"diff-display",style:{marginBottom:16},children:[(0,e.jsxs)("div",{className:"diff-row",children:[(0,e.jsx)("div",{className:"diff-label !text-slate-400",children:"\u539F\u6587"}),(0,e.jsx)("div",{className:"diff-content original !bg-red-500/10 !text-red-200 !border-red-500/20 !rounded-lg",children:K.original})]}),(0,e.jsxs)("div",{className:"diff-row",children:[(0,e.jsx)("div",{className:"diff-label !text-slate-400",children:"\u4FEE\u6539\u4E3A"}),(0,e.jsx)("div",{className:"diff-content revised !bg-green-500/10 !text-green-200 !border-green-500/20 !rounded-lg",children:K.revised})]})]}),(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:(0,e.jsxs)(Be.Z,{wrap:!0,children:[(0,e.jsx)(V.ZP,{size:"middle",className:ue==="accepted"?"!h-10 !px-6 !rounded-xl !bg-brand-600 !text-white !border-none shadow-lg shadow-brand-600/20":"!h-10 !px-6 !rounded-xl !bg-white/5 !text-slate-300 !border-white/10 hover:!bg-white/10 hover:!border-brand-500/50",onClick:function(){br(K.id,ue==="accepted"?"undecided":"accepted")},children:"\u91C7\u7EB3\u5EFA\u8BAE"}),(0,e.jsx)(V.ZP,{size:"middle",className:ue==="rejected"?"!h-10 !px-6 !rounded-xl !bg-slate-700 !text-white !border-none":"!h-10 !px-6 !rounded-xl !bg-white/5 !text-slate-300 !border-white/10 hover:!bg-white/10 hover:!border-red-500/50",onClick:function(){br(K.id,ue==="rejected"?"undecided":"rejected")},children:"\u4E0D\u91C7\u7EB3"}),(0,e.jsx)(V.ZP,{size:"middle",ghost:!0,className:"!h-10 !px-6 !rounded-xl !text-slate-500 !border-white/5 hover:!text-slate-300",onClick:function(){br(K.id,"undecided")},children:"\u6E05\u9664\u9009\u62E9"})]})})]}):null,u&&(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u76F8\u5173\u6CD5\u5F8B\u4F9D\u636E"}),(0,e.jsx)("div",{className:"section-content space-y-3 !bg-transparent !p-0",children:t.map(function(O){return(0,e.jsxs)("div",{className:"!bg-white/5 !border !border-white/10 !rounded-xl !p-4",children:[(0,e.jsxs)("div",{className:"text-slate-200 font-semibold mb-2",children:[O.lawName," ",O.article]}),(0,e.jsx)("div",{className:"text-slate-400 text-sm leading-relaxed mb-3",children:O.content}),(0,e.jsxs)("div",{className:"legal-score flex items-center",children:[(0,e.jsx)(Re.Z,{disabled:!0,allowHalf:!0,value:O.score*5,style:{fontSize:12,color:"#fadb14"}}),(0,e.jsxs)("span",{className:"ml-3 text-xs text-slate-500",children:["\u76F8\u5173\u5EA6: ",(O.score*100).toFixed(0),"%"]})]})]},O.id)})})]})]})}if(U==="suggestion"){var ve=Q;return(0,e.jsxs)("div",{className:"detail-modal dark-modal",children:[(0,e.jsxs)("div",{className:"diff-display",children:[(0,e.jsxs)("div",{className:"diff-row",children:[(0,e.jsx)("div",{className:"diff-label !text-slate-400",children:"\u539F\u6587"}),(0,e.jsx)("div",{className:"diff-content original !bg-red-500/10 !text-red-200 !border-red-500/20 !rounded-lg",children:ve.original})]}),(0,e.jsxs)("div",{className:"diff-row",children:[(0,e.jsx)("div",{className:"diff-label !text-slate-400",children:"\u4FEE\u6539\u4E3A"}),(0,e.jsx)("div",{className:"diff-content revised !bg-green-500/10 !text-green-200 !border-green-500/20 !rounded-lg",children:ve.revised})]})]}),ve.reason&&(0,e.jsxs)("div",{className:"modal-section mt-4",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u4FEE\u6539\u7406\u7531"}),(0,e.jsx)("div",{className:"section-content !bg-white/5 !text-slate-200 !border-white/10 !rounded-xl !p-4",children:ve.reason})]})]})}if(U==="legal"){var te=Q;return(0,e.jsxs)("div",{className:"detail-modal dark-modal",children:[(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u6CD5\u5F8B\u540D\u79F0"}),(0,e.jsx)("div",{className:"section-content !bg-white/5 !text-slate-200 !border-white/10 !rounded-xl !p-4",children:te.lawName})]}),(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u6761\u6B3E"}),(0,e.jsx)("div",{className:"section-content !bg-white/5 !text-slate-200 !border-white/10 !rounded-xl !p-4",children:te.article})]}),(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u6CD5\u6761\u5185\u5BB9"}),(0,e.jsx)("div",{className:"section-content !bg-white/5 !text-slate-200 !border-white/10 !rounded-xl !p-4",children:te.content})]}),(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u76F8\u5173\u5EA6\u8BC4\u5206"}),(0,e.jsxs)("div",{className:"legal-score flex items-center p-2",children:[(0,e.jsx)(Re.Z,{disabled:!0,allowHalf:!0,value:te.score*5,style:{color:"#fadb14"}}),(0,e.jsxs)("span",{className:"ml-4 text-slate-400",children:[(te.score*100).toFixed(0),"%"]})]})]}),te.explanation&&(0,e.jsxs)("div",{className:"modal-section",children:[(0,e.jsx)("div",{className:"section-label !text-brand-300",children:"\u9002\u7528\u8BF4\u660E"}),(0,e.jsx)("div",{className:"section-content !bg-brand-500/10 !text-brand-100 !border-brand-500/20 !rounded-xl !p-4",children:te.explanation})]})]})}},un=function(){return U==="risk"?"\u98CE\u9669\u8BE6\u60C5":U==="suggestion"?"\u4FEE\u6539\u5EFA\u8BAE\u8BE6\u60C5":"\u6CD5\u5F8B\u4F9D\u636E\u8BE6\u60C5"};return Y?(0,e.jsxs)("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center px-4",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10},children:[(0,e.jsx)(Fe.Z,{}),(0,e.jsxs)("div",{className:"relative z-10 w-full max-w-md rounded-2xl bg-white/5 border border-white/10 shadow-2xl px-8 py-10 text-center space-y-4 backdrop-blur-xl",children:[(0,e.jsx)("div",{className:"bg-brand-600/20 border border-brand-500/30 inline-flex items-center justify-center rounded-full px-4 py-1 text-xs font-medium text-brand-300",children:ae==="analyzing"?"Quantum Flux Processing...":"Initializing System..."}),(0,e.jsx)("p",{className:"text-sm text-slate-400",children:"\u6211\u4EEC\u6B63\u5728\u4E3A\u60A8\u89E3\u6790\u5408\u540C\u6761\u6B3E\u5E76\u751F\u6210\u98CE\u9669\u63D0\u793A\u3001\u4FEE\u6539\u610F\u89C1\u4E0E\u6CD5\u5F8B\u4F9D\u636E\uFF0C\u8BF7\u7A0D\u5019\u3002"}),(0,e.jsx)("div",{className:"flex justify-center pt-2",children:(0,e.jsx)(ar.Z,{size:"large",tip:(0,e.jsx)("span",{className:"text-slate-400 mt-2 block",children:ae==="analyzing"?"\u6B63\u5728\u5206\u6790\u5408\u540C...":"\u6B63\u5728\u52A0\u8F7D..."})})})]})]}):(0,e.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#020617",overflow:"hidden",zIndex:1},children:[(0,e.jsx)(Fe.Z,{}),(0,e.jsx)("div",{style:{position:"relative",zIndex:1,padding:"24px 24px 48px",height:"100%",overflowX:"hidden",overflowY:"auto"},children:(0,e.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,e.jsxs)("div",{className:"sexy-card mb-6 px-6 py-4 flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-semibold tracking-wide text-brand-200/80 uppercase",children:"LegalRag"}),(0,e.jsx)("p",{className:"text-xl font-bold text-white tracking-tight",children:"\u5408\u540C\u5206\u6790\u7ED3\u679C"})]}),(0,e.jsxs)(Be.Z,{children:[(0,e.jsx)("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-brand-100 backdrop-blur-md",children:"\u98CE\u9669\u63D0\u793A \xB7 \u4FEE\u6539\u610F\u89C1 \xB7 \u6CD5\u5F8B\u4F9D\u636E"}),(0,e.jsx)(V.ZP,{ghost:!0,size:"small",onClick:function(){return oe.history.push("/history")},style:{color:"rgba(255,255,255,0.8)",borderColor:"rgba(255,255,255,0.3)"},children:"\u5386\u53F2"}),(0,e.jsx)(V.ZP,{ghost:!0,size:"small",onClick:Vt,style:{color:"rgba(255,255,255,0.8)",borderColor:"rgba(255,255,255,0.3)"},children:"\u8FD4\u56DE"})]})]}),(0,e.jsx)("div",{className:"contract-analysis",children:(0,e.jsxs)("div",{className:"analysis-content !p-0",children:[(0,e.jsxs)("div",{className:"flex justify-end mb-4 gap-3",children:[(0,e.jsx)(V.ZP,{className:"sexy-card !border-white/20 !text-white hover:!bg-white/10 hover:!border-white/40 !h-9 !px-4 !bg-transparent",onClick:function(){return fr(!0)},children:"\u5BFC\u51FA PDF"}),(0,e.jsx)(V.ZP,{type:"primary",className:"!bg-brand-600 hover:!bg-brand-500 !border-none !h-9 !px-4 !rounded-lg",onClick:Kt,children:"\u91CD\u65B0\u5206\u6790"})]}),a&&(0,e.jsx)("div",{className:"analysis-content-inner",children:(0,e.jsxs)("div",{className:"split-grid",ref:Lr,style:Oe()({},"--left-pane","".concat(gr,"%")),children:[(0,e.jsx)("div",{className:"split-left",children:(0,e.jsxs)("div",{className:"sexy-card h-full flex flex-col overflow-hidden",children:[(0,e.jsxs)("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-white/5",children:[(0,e.jsx)("span",{className:"text-white font-semibold",children:"\u5408\u540C\u6587\u672C"}),(0,e.jsxs)(Be.Z,{children:[Xe?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(V.ZP,{size:"small",type:"primary",onClick:qt,className:"!bg-brand-600",children:"\u5B8C\u6210"}),(0,e.jsx)(V.ZP,{size:"small",ghost:!0,onClick:Yr,className:"!text-white/80 !border-white/20",children:"\u64A4\u9500"})]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(V.ZP,{size:"small",ghost:!0,onClick:Qt,className:"!text-white/80 !border-white/20 hover:!border-brand-400 hover:!text-brand-400",children:"\u7F16\u8F91"}),A?(0,e.jsx)(V.ZP,{size:"small",danger:!0,ghost:!0,onClick:Yr,className:"!border-red-500/30 hover:!bg-red-500/10",children:"\u64A4\u9500\u4FEE\u6539\u7248"}):null]}),A&&!Xe?(0,e.jsx)(V.ZP,{size:"small",type:"primary",ghost:!0,onClick:tn,children:"\u7528\u4FEE\u6539\u7248\u91CD\u65B0\u5206\u6790"}):null]})]}),(0,e.jsx)("div",{className:"contract-text-panel flex-1",ref:Lt,children:Xe?(0,e.jsxs)("div",{className:"space-y-2 h-full flex flex-col",children:[(0,e.jsx)("div",{className:"text-xs text-slate-400",children:"\u63D0\u793A\uFF1A\u7F16\u8F91/\u5E94\u7528\u5EFA\u8BAE\u540E\uFF0C\u672C\u9875\u9AD8\u4EAE\u5B9A\u4F4D\u5C06\u4E0D\u518D\u51C6\u786E\u3002"}),(0,e.jsx)(We.Z.TextArea,{className:"!bg-black/20 !text-slate-200 !border-white/10 placeholder:!text-slate-600 flex-1",value:A!=null?A:qe(),onChange:function(n){return Pe(n.target.value)},style:{resize:"none",height:"100%"}})]}):A?(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("div",{className:"text-xs text-slate-400",children:"\u5DF2\u751F\u6210\u4FEE\u6539\u7248\u6B63\u6587\uFF08\u7EFF\u8272\u9AD8\u4EAE\u4E3A\u5DF2\u91C7\u7EB3\u7684\u4FEE\u6539\u5185\u5BB9\uFF09\u3002"}),rn()]}):Jt()})]})}),(0,e.jsx)("div",{className:"split-resizer",role:"separator","aria-orientation":"vertical","aria-label":"\u8C03\u6574\u5408\u540C\u6587\u672C\u533A\u57DF\u5BBD\u5EA6",onPointerDown:$t,onPointerMove:Ot,onPointerUp:Gr,onPointerCancel:Gr}),(0,e.jsx)("div",{className:"split-right",children:(0,e.jsx)("div",{className:"analysis-panel h-full",children:(0,e.jsxs)("div",{className:"sexy-card h-full flex flex-col overflow-hidden",children:[(0,e.jsxs)("div",{className:"px-4 py-3 border-b border-white/10 bg-white/5 flex gap-6",children:[(0,e.jsxs)("button",{onClick:function(){return Tr("analysis")},className:"text-sm font-semibold transition-colors relative ".concat(He==="analysis"?"text-white":"text-slate-400 hover:text-slate-200"),children:["\u98CE\u9669\u8BE6\u60C5",He==="analysis"&&(0,e.jsx)("div",{className:"absolute -bottom-[13px] left-0 right-0 h-[2px] bg-brand-500"})]}),(0,e.jsxs)("button",{onClick:function(){return Tr("chat")},className:"text-sm font-semibold transition-colors relative ".concat(He==="chat"?"text-white":"text-slate-400 hover:text-slate-200"),children:["AI \u52A9\u624B",He==="chat"&&(0,e.jsx)("div",{className:"absolute -bottom-[13px] left-0 right-0 h-[2px] bg-brand-500"})]})]}),He==="chat"?(0,e.jsx)(bt,{}):(0,e.jsx)("div",{className:"p-5 flex-1 overflow-y-auto",children:q?(0,e.jsxs)("div",{className:"detail-container",children:[(0,e.jsxs)("div",{className:"modal-section",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[(0,e.jsx)("span",{className:"text-white text-lg font-semibold",children:"\u98CE\u9669\u7B49\u7EA7"}),(0,e.jsx)(Ne.Z,{className:"!border-none",color:q.level==="high"?"#f5222d":q.level==="medium"?"#fa8c16":"#52c41a",style:{padding:"4px 16px",fontSize:14,borderRadius:12,marginRight:0},children:q.level==="high"?"\u9AD8\u98CE\u9669":q.level==="medium"?"\u4E2D\u98CE\u9669":"\u4F4E\u98CE\u9669"})]}),(0,e.jsxs)("div",{className:"mb-4 rounded-lg bg-red-500/10 border border-red-500/20 overflow-hidden",children:[(0,e.jsx)("div",{className:"px-3 py-2 bg-red-500/20 border-b border-red-500/20 text-red-300 text-sm font-semibold flex items-center gap-2",children:(0,e.jsx)("span",{children:"\u{1F6A8} \u98CE\u9669\u63CF\u8FF0"})}),(0,e.jsx)("div",{className:"p-3 text-slate-200 text-sm leading-relaxed",children:q.detected_issue})]}),q.suggestions&&(0,e.jsxs)("div",{className:"mb-4 rounded-lg bg-yellow-500/10 border border-yellow-500/20 overflow-hidden",children:[(0,e.jsx)("div",{className:"px-3 py-2 bg-yellow-500/20 border-b border-yellow-500/20 text-yellow-300 text-sm font-semibold flex items-center gap-2",children:(0,e.jsx)("span",{children:"\u{1F4A1} \u5EFA\u8BAE\u63AA\u65BD"})}),(0,e.jsx)("div",{className:"p-3 text-slate-200 text-sm leading-relaxed",children:q.suggestions})]}),q.legal_basis&&q.legal_basis.length>0&&(0,e.jsxs)("div",{className:"modal-section mt-6",children:[(0,e.jsx)("div",{className:"section-title text-white mb-3 font-semibold",children:"\u2696\uFE0F \u76F8\u5173\u6CD5\u5F8B\u4F9D\u636E"}),(0,e.jsx)("div",{className:"section-content space-y-3",children:q.legal_basis.map(function(c,n){return(0,e.jsxs)("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 hover:bg-white/10 transition-colors",children:[(0,e.jsxs)("div",{className:"text-slate-200 font-medium mb-1",children:[c.law_name," ",c.order]}),(0,e.jsx)("div",{className:"text-slate-400 text-sm mb-2 leading-relaxed",children:c.content}),(0,e.jsxs)("div",{className:"legal-score flex items-center",children:[(0,e.jsx)(Re.Z,{disabled:!0,allowHalf:!0,value:(c.relevance_score||0)*5,style:{fontSize:12,color:"#fadb14"}}),(0,e.jsxs)("span",{className:"ml-2 text-xs text-slate-500",children:["\u76F8\u5173\u5EA6:"," ",((c.relevance_score||0)*100).toFixed(0),"%"]})]})]},n)})})]})]}):(0,e.jsxs)("div",{className:"text-slate-500 text-center py-12 flex flex-col items-center justify-center h-full",children:[(0,e.jsx)("div",{className:"text-4xl mb-4 opacity-50",children:"\u{1F4CB}"}),(0,e.jsx)("div",{className:"text-lg",children:"\u6682\u65E0\u98CE\u9669\u8BE6\u60C5"}),(0,e.jsx)("div",{className:"text-sm mt-2 opacity-60",children:"\u70B9\u51FB\u5DE6\u4FA7\u5408\u540C\u5185\u5BB9\u7684\u6807\u8BB0\u5904\u67E5\u770B"})]})})]})})})]})})]})}),(0,e.jsx)(Ge.Z,{title:un(),open:Ve,onCancel:function(){return Ze(!1)},footer:null,width:700,className:"dark-modal",children:ln()}),(0,e.jsxs)(Ge.Z,{title:"\u5BFC\u51FA PDF",open:Nt,onCancel:function(){return fr(!1)},okText:"\u5F00\u59CB\u5BFC\u51FA",cancelText:"\u53D6\u6D88",className:"dark-modal",onOk:function(){fr(!1),sn()},children:[(0,e.jsx)(Ue.Z.Paragraph,{style:{marginBottom:10,color:"rgba(255,255,255,0.5)"},children:"\u70B9\u51FB\u201C\u5F00\u59CB\u5BFC\u51FA\u201D\u540E\u5C06\u81EA\u52A8\u5F39\u51FA\u6253\u5370\u5BF9\u8BDD\u6846\uFF0C\u5728\u5BF9\u8BDD\u6846\u4E2D\u9009\u62E9\u201C\u4FDD\u5B58\u4E3A PDF\u201D\u5373\u53EF\u5BFC\u51FA\u3002"}),(0,e.jsx)(sr.Z,{style:{margin:"12px 0",borderColor:"rgba(255,255,255,0.1)"}}),(0,e.jsxs)("div",{style:{marginBottom:12},children:[(0,e.jsx)("div",{style:{fontWeight:600,marginBottom:8,color:"#fff"},children:"\u5BFC\u51FA\u5185\u5BB9"}),(0,e.jsx)(he.Z.Group,{value:kr,onChange:function(n){var i=n;i.includes("contract")||i.push("contract"),kt(Array.from(new Set(i)))},children:(0,e.jsxs)(Be.Z,{wrap:!0,children:[(0,e.jsx)(he.Z,{value:"contract",className:"!text-slate-300",children:"\u5408\u540C\u6B63\u6587"}),(0,e.jsx)(he.Z,{value:"risks",className:"!text-slate-300",children:"\u98CE\u9669\u6458\u8981"}),(0,e.jsx)(he.Z,{value:"suggestions",className:"!text-slate-300",children:"\u4FEE\u6539\u5EFA\u8BAE"}),(0,e.jsx)(he.Z,{value:"legal",className:"!text-slate-300",children:"\u6CD5\u5F8B\u4F9D\u636E"})]})})]}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,e.jsx)("div",{style:{fontWeight:600,color:"#fff"},children:"\u6B63\u6587\u5305\u542B\u9AD8\u4EAE"}),(0,e.jsx)(Te.Z,{checked:A?!1:Sr,disabled:!!A,onChange:St}),(0,e.jsx)("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:12},children:A?"\u5DF2\u4FEE\u6539\u6B63\u6587\uFF1A\u9AD8\u4EAE\u4F1A\u56E0\u4F4D\u7F6E\u504F\u79FB\u800C\u5931\u6548":"\u98CE\u9669/\u5EFA\u8BAE/\u6CD5\u6761\u4F1A\u4EE5\u4E0D\u540C\u5E95\u8272\u6807\u8BB0"})]})]})]})})]})},wt=jt}}]);
