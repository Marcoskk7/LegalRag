"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[290],{4315:function(ae,Z,t){t.d(Z,{Z:function(){return K}});var T=t(75271),N=t(52676);function K(l){var V=l.className,j=l.gap,h=j===void 0?24:j,x=l.radius,U=x===void 0?1.5:x,L=l.color,I=L===void 0?"rgba(255,255,255,0.02)":L,i=l.glowColor,P=i===void 0?"rgba(255, 255, 255, 0.15)":i,M=l.speedScale,O=M===void 0?.5:M,g=(0,T.useRef)(null),$=(0,T.useRef)(null);return(0,T.useEffect)(function(){var w=g.current,E=$.current;if(!(!w||!E)){var d=w.getContext("2d");if(d){var e=0,D=window.devicePixelRatio||1,z=function(){var u=E.getBoundingClientRect(),p=u.width,n=u.height;w.width=p*D,w.height=n*D,w.style.width="".concat(p,"px"),w.style.height="".concat(n,"px"),d.scale(D,D)},k=new ResizeObserver(z);k.observe(E),z();var S=[],C=function(){S=[];for(var u=E.getBoundingClientRect(),p=u.width,n=u.height,F=-h;F<p+h;F+=h)for(var o=-h;o<n+h;o+=h){var y=F+(Math.floor(o/h)%2===0?0:h*.5);S.push({x:y,y:o,phase:Math.random()*Math.PI*2,speed:.5+Math.random()*.5})}};C(),window.addEventListener("resize",C);var A=function c(u){var p=E.getBoundingClientRect(),n=p.width,F=p.height;d.clearRect(0,0,n,F);var o=u/1e3*O;S.forEach(function(y){var X=(Math.sin(o*y.speed+y.phase)+1)/2;d.beginPath(),d.arc(y.x,y.y,U,0,Math.PI*2),X>.8?(d.fillStyle=P,d.shadowColor=P,d.shadowBlur=15):(d.fillStyle=I,d.shadowBlur=0),d.fill()}),e=requestAnimationFrame(c)};return e=requestAnimationFrame(A),function(){cancelAnimationFrame(e),window.removeEventListener("resize",C),k.disconnect()}}}},[h,U,I,P,O]),(0,N.jsx)("div",{ref:$,className:V,style:{position:"absolute",inset:0,zIndex:0,pointerEvents:"none"},children:(0,N.jsx)("canvas",{ref:g,style:{display:"block"}})})}},31690:function(ae,Z,t){t.r(Z),t.d(Z,{default:function(){return k}});var T=t(26068),N=t.n(T),K=t(90228),l=t.n(K),V=t(87999),j=t.n(V),h=t(48305),x=t.n(h),U=t(54134),L=t(43953),I=t(97365),i=t(31707),P=t(97150),M=t(34991),O=t(27374),g=t(75271),$="http://api.legalrag.studio",w="".concat($,"/api/v1/upload"),E=function(){var S=j()(l()().mark(function C(A){var c,u;return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=new FormData,c.append("file",A),n.next=4,fetch(w,{method:"POST",body:c});case 4:if(u=n.sent,u.ok){n.next=7;break}throw new Error("HTTP ".concat(u.status));case 7:return n.next=9,u.json();case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}},C)}));return function(A){return S.apply(this,arguments)}}(),d=t(4315),e=t(52676),D=I.Z.Dragger,z=function(){var C=(0,g.useState)(""),A=x()(C,2),c=A[0],u=A[1],p=(0,g.useState)(!1),n=x()(p,2),F=n[0],o=n[1],y=(0,g.useState)([]),X=x()(y,2),te=X[0],J=X[1],re=(0,g.useState)(!1),Y=x()(re,2),ne=Y[0],W=Y[1],se=(0,g.useState)(""),q=x()(se,2),_=q[0],G=q[1],ue=(0,g.useState)(""),ee=x()(ue,2),H=ee[0],Q=ee[1],le={name:"file",multiple:!1,showUploadList:!0,maxCount:1,fileList:te,accept:".pdf,.doc,.docx,.txt",onChange:function(m){J(m.fileList.slice(-1))},onRemove:function(){return u(""),W(!1),G(""),Q(""),!0},beforeUpload:function(){var f=j()(l()().mark(function B(s){var b,r;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],b.includes(s.type)){a.next=4;break}return i.ZP.error("\u53EA\u652F\u6301\u4E0A\u4F20 PDF\u3001Word \u6216 TXT \u6587\u4EF6\uFF01"),a.abrupt("return",!1);case 4:if(!(s.size/1024/1024>50)){a.next=7;break}return i.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 50MB\uFF01"),a.abrupt("return",!1);case 7:if(s.type!=="text/plain"){a.next=22;break}return a.prev=8,a.next=11,s.text();case 11:return r=a.sent,G(r),Q(s.name),W(!0),a.abrupt("return",!1);case 18:return a.prev=18,a.t0=a.catch(8),i.ZP.error("\u8BFB\u53D6 TXT \u6587\u4EF6\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),a.abrupt("return",!1);case 22:return a.abrupt("return",!0);case 23:case"end":return a.stop()}},B,null,[[8,18]])}));function m(B){return f.apply(this,arguments)}return m}(),customRequest:function(){var f=j()(l()().mark(function B(s){var b,r,R,a;return l()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return b=s.file,r=s.onError,R=s.onSuccess,v.prev=1,o(!0),v.next=5,E(b);case 5:a=v.sent,o(!1),a!=null&&a.success?(i.ZP.success("".concat(b.name," \u4E0A\u4F20\u6210\u529F\uFF01")),u(a.data.uuid),R==null||R(a,b)):(i.ZP.error((a==null?void 0:a.message)||"\u4E0A\u4F20\u5931\u8D25"),r==null||r(new Error((a==null?void 0:a.message)||"upload failed"))),v.next=15;break;case 10:v.prev=10,v.t0=v.catch(1),o(!1),i.ZP.error("".concat(b.name," \u4E0A\u4F20\u5931\u8D25")),r==null||r(v.t0);case 15:case"end":return v.stop()}},B,null,[[1,10]])}));function m(B){return f.apply(this,arguments)}return m}()},ie=function(){var f=j()(l()().mark(function m(){var B,s;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(H){r.next=3;break}return i.ZP.warning("\u672A\u68C0\u6D4B\u5230\u5F85\u7F16\u8F91\u7684 TXT \u6587\u4EF6"),r.abrupt("return");case 3:return r.prev=3,o(!0),B=new File([_],H,{type:"text/plain"}),r.next=8,E(B);case 8:s=r.sent,o(!1),s!=null&&s.success?(i.ZP.success("".concat(H," \u4E0A\u4F20\u6210\u529F\uFF01")),u(s.data.uuid),W(!1),J([{uid:"".concat(Date.now()),name:H,status:"done",percent:100,response:s}])):i.ZP.error((s==null?void 0:s.message)||"\u4E0A\u4F20\u5931\u8D25"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(3),o(!1),i.ZP.error("\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 17:case"end":return r.stop()}},m,null,[[3,13]])}));return function(){return f.apply(this,arguments)}}(),de=function(){if(!c){i.ZP.warning("\u8BF7\u5148\u4E0A\u4F20\u6587\u4EF6");return}L.history.push("/contract-analysis?fileId=".concat(c))};return(0,e.jsxs)("div",{style:{position:"relative",width:"100vw",minHeight:"100vh",background:"#09090b",overflowX:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,e.jsx)(d.Z,{}),(0,e.jsxs)("div",{style:{position:"relative",zIndex:1,padding:"24px",width:"100%",maxWidth:"800px"},children:[(0,e.jsxs)("div",{className:"sexy-card overflow-hidden",children:[(0,e.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between border-b border-white/10 bg-white/5",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-semibold tracking-wide text-brand-200/80 uppercase",children:"LegalRag"}),(0,e.jsx)("p",{className:"text-sm text-brand-100 font-medium",children:"\u5408\u540C\u667A\u80FD\u5BA1\u67E5\u7CFB\u7EDF"})]}),(0,e.jsx)("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-brand-50 backdrop-blur-md",children:"\u4E0A\u4F20 \xB7 \u5206\u6790 \xB7 \u98CE\u9669\u8BC4\u4F30"})]}),(0,e.jsxs)("div",{className:"px-8 py-10",children:[(0,e.jsxs)("div",{className:"mb-10 text-center space-y-3",children:[(0,e.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"\u4E0A\u4F20\u60A8\u7684\u5408\u540C"}),(0,e.jsx)("p",{className:"text-slate-400 max-w-md mx-auto",children:"\u652F\u6301\u591A\u79CD\u6587\u6863\u683C\u5F0F\uFF0CAI \u5C06\u81EA\u52A8\u4E3A\u60A8\u8BC6\u522B\u6F5C\u5728\u6CD5\u5F8B\u98CE\u9669\u5E76\u63D0\u4F9B\u4E13\u4E1A\u4FEE\u6539\u5EFA\u8BAE\u3002"})]}),(0,e.jsxs)("div",{className:"space-y-8",children:[(0,e.jsx)("div",{className:"shimmer-loading rounded-xl",children:(0,e.jsxs)(D,N()(N()({},le),{},{className:"!bg-white/5 !border-2 !border-dashed !border-white/10 hover:!border-brand-500/50 !rounded-xl transition-all duration-300",children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon !text-brand-400 !mb-4",children:(0,e.jsx)(U.Z,{style:{fontSize:48}})}),(0,e.jsx)("p",{className:"ant-upload-text !text-slate-200 !text-lg !font-medium",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4E0A\u4F20"}),(0,e.jsx)("p",{className:"ant-upload-hint !text-slate-500 !mt-2",children:"\u652F\u6301 PDF\u3001Word (doc/docx) \u548C TXT \u683C\u5F0F\uFF0C\u4E0D\u8D85\u8FC7 50MB"})]}))}),(0,e.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between pt-4 border-t border-white/5",children:[(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsx)("p",{className:"text-sm text-slate-400 leading-relaxed",children:"\u4E0A\u4F20\u5B8C\u6210\u540E\uFF0C\u70B9\u51FB\u4E0B\u65B9\u6309\u94AE\u5F00\u59CB\u667A\u80FD\u5206\u6790\u3002"})}),(0,e.jsx)(P.ZP,{type:"primary",size:"large",disabled:!c||F,loading:F,className:"!h-12 !px-8 !rounded-xl !text-lg !font-semibold transition-all ".concat(c?"!bg-brand-600 hover:!bg-brand-500 hover:!scale-105 shadow-lg shadow-brand-600/20":"!bg-slate-800 !text-slate-500 !border-none"),onClick:de,children:"\u5F00\u59CB\u667A\u80FD\u5206\u6790"})]})]})]})]}),(0,e.jsx)(M.Z,{title:(0,e.jsx)("span",{className:"font-semibold",children:"\u7F16\u8F91 TXT \u5185\u5BB9"}),open:ne,okText:"\u4FDD\u5B58\u5E76\u4E0A\u4F20",cancelText:"\u53D6\u6D88",confirmLoading:F,onOk:ie,onCancel:function(){W(!1),G(""),Q(""),J([]),u("")},width:900,destroyOnClose:!0,className:"dark-modal",children:(0,e.jsxs)("div",{className:"space-y-4 py-2",children:[(0,e.jsxs)("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[(0,e.jsx)("span",{className:"w-2 h-2 bg-brand-500 rounded-full animate-pulse"}),"\u4EC5\u5BF9 TXT \u6587\u4EF6\u652F\u6301\u5728\u7EBF\u4FEE\u6539\uFF1BPDF/Word \u8BF7\u76F4\u63A5\u4E0A\u4F20\u3002"]}),(0,e.jsx)(O.Z.TextArea,{value:_,onChange:function(m){return G(m.target.value)},autoSize:{minRows:16,maxRows:28},className:"!bg-black/20 !border-white/10 !rounded-lg !p-4 !text-base !leading-relaxed !text-slate-200 placeholder:!text-slate-600"})]})})]})]})},k=z}}]);
