"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[290],{21889:function(le,U,t){var f=t(75271),w=t(86678),K=t(60606),x=t(50165),i=t(52676);var A=function(F){var u=F.index,l=(0,f.useRef)(null),g=100,n=[5195493,12951641,16777215,9647082],O=(0,f.useMemo)(function(){return n[Math.floor(Math.random()*n.length)]},[]),$=(0,f.useMemo)(function(){return Math.random()*.4+.1},[]),T=(0,f.useMemo)(function(){return{offset:Math.random()*100,speed:Math.random()*.005+.002,radius:Math.random()*4+2,freq:Math.random()*.5+.2}},[]),H=(0,f.useMemo)(function(){return new Float32Array(g*3)},[]),S=(0,f.useRef)(null);return(0,w.F)(function(b){if(l.current&&S.current){for(var V=b.clock.getElapsedTime()*10,Q=T.offset,L=T.speed,I=T.radius,e=T.freq,D=V*L+Q,R=S.current.attributes.position.array,y=0;y<g;y++){var B=y/g,N=B*Math.PI*2+D,E=Math.cos(N)*I+Math.sin(D*.5+u)*2,h=Math.sin(N*e)*(I*.5)+Math.cos(D+u)*1,m=Math.sin(N+D)*2-B*5;R[y*3]=E,R[y*3+1]=h,R[y*3+2]=m}S.current.attributes.position.needsUpdate=!0,l.current.rotation.z+=.001,l.current.rotation.y+=5e-4}}),(0,i.jsxs)("line",{ref:l,children:[(0,i.jsx)("bufferGeometry",{ref:S,children:(0,i.jsx)("bufferAttribute",{attach:"attributes-position",args:[H,3]})}),(0,i.jsx)("lineBasicMaterial",{color:O,transparent:!0,opacity:$,blending:x.AdditiveBlending})]})},X=function(){var F=40,u=(0,f.useMemo)(function(){return Array.from({length:F},function(l,g){return g})},[]);return(0,i.jsx)(i.Fragment,{children:u.map(function(l){return(0,i.jsx)(A,{index:l},l)})})},v=function(){var F=(0,w.D)(),u=F.camera,l=F.pointer;return(0,w.F)(function(){var g=l.x*2,n=-l.y*2;u.position.x+=(g-u.position.x)*.05,u.position.y+=(n-u.position.y)*.05,u.lookAt(0,0,0)}),null},G=function(){return(0,i.jsx)("div",{className:"absolute inset-0 z-0 bg-[#020617]",children:(0,i.jsxs)(K.Xz,{camera:{position:[0,0,10],fov:45},dpr:[1,2],children:[(0,i.jsx)("ambientLight",{intensity:.5}),(0,i.jsx)(X,{}),(0,i.jsx)(v,{})]})})};U.Z=G},31690:function(le,U,t){t.r(U),t.d(U,{default:function(){return y}});var f=t(26068),w=t.n(f),K=t(90228),x=t.n(K),i=t(87999),A=t.n(i),X=t(48305),v=t.n(X),G=t(38438),M=t(64297),F=t(54134),u=t(62237),l=t(43953),g=t(92186),n=t(31707),O=t(97150),$=t(83453),T=t(46440),H=t(29963),S=t(5902),b=t(75271),V="http://127.0.0.1:8080",Q="".concat(V,"/api/v1/upload"),L=function(){var B=A()(x()().mark(function N(E){var h,m;return x()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return h=new FormData,h.append("file",E),o.next=4,fetch(Q,{method:"POST",body:h});case 4:if(m=o.sent,m.ok){o.next=7;break}throw new Error("HTTP ".concat(m.status));case 7:return o.next=9,m.json();case 9:return o.abrupt("return",o.sent);case 10:case"end":return o.stop()}},N)}));return function(E){return B.apply(this,arguments)}}(),I=t(21889),e=t(52676),D=g.Z.Dragger,R=function(){var N=(0,b.useState)(""),E=v()(N,2),h=E[0],m=E[1],_=(0,b.useState)(!1),o=v()(_,2),Y=o[0],P=o[1],ue=(0,b.useState)([]),ee=v()(ue,2),oe=ee[0],J=ee[1],de=(0,b.useState)(!1),te=v()(de,2),ce=te[0],k=te[1],me=(0,b.useState)(""),ae=v()(me,2),re=ae[0],z=ae[1],pe=(0,b.useState)(""),se=v()(pe,2),W=se[0],q=se[1],xe=(0,b.useState)(1),ne=v()(xe,2),ie=ne[0],he=ne[1],fe={name:"file",multiple:!1,showUploadList:!0,maxCount:1,fileList:oe,accept:".pdf,.doc,.docx,.txt",onChange:function(c){J(c.fileList.slice(-1))},onRemove:function(){return m(""),k(!1),z(""),q(""),!0},beforeUpload:function(){var d=A()(x()().mark(function C(s){var j,r;return x()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],j.includes(s.type)){a.next=4;break}return n.ZP.error("\u53EA\u652F\u6301\u4E0A\u4F20 PDF\u3001Word \u6216 TXT \u6587\u4EF6\uFF01"),a.abrupt("return",!1);case 4:if(!(s.size/1024/1024>50)){a.next=7;break}return n.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 50MB\uFF01"),a.abrupt("return",!1);case 7:if(s.type!=="text/plain"){a.next=22;break}return a.prev=8,a.next=11,s.text();case 11:return r=a.sent,z(r),q(s.name),k(!0),a.abrupt("return",!1);case 18:return a.prev=18,a.t0=a.catch(8),n.ZP.error("\u8BFB\u53D6 TXT \u6587\u4EF6\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),a.abrupt("return",!1);case 22:return a.abrupt("return",!0);case 23:case"end":return a.stop()}},C,null,[[8,18]])}));function c(C){return d.apply(this,arguments)}return c}(),customRequest:function(){var d=A()(x()().mark(function C(s){var j,r,Z,a;return x()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return j=s.file,r=s.onError,Z=s.onSuccess,p.prev=1,P(!0),p.next=5,L(j);case 5:a=p.sent,P(!1),a!=null&&a.success?(n.ZP.success("".concat(j.name," \u4E0A\u4F20\u6210\u529F\uFF01")),m(a.data.uuid),Z==null||Z(a,j)):(n.ZP.error((a==null?void 0:a.message)||"\u4E0A\u4F20\u5931\u8D25"),r==null||r(new Error((a==null?void 0:a.message)||"upload failed"))),p.next=15;break;case 10:p.prev=10,p.t0=p.catch(1),P(!1),n.ZP.error("".concat(j.name," \u4E0A\u4F20\u5931\u8D25")),r==null||r(p.t0);case 15:case"end":return p.stop()}},C,null,[[1,10]])}));function c(C){return d.apply(this,arguments)}return c}()},ve=function(){var d=A()(x()().mark(function c(){var C,s;return x()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(W){r.next=3;break}return n.ZP.warning("\u672A\u68C0\u6D4B\u5230\u5F85\u7F16\u8F91\u7684 TXT \u6587\u4EF6"),r.abrupt("return");case 3:return r.prev=3,P(!0),C=new File([re],W,{type:"text/plain"}),r.next=8,L(C);case 8:s=r.sent,P(!1),s!=null&&s.success?(n.ZP.success("".concat(W," \u4E0A\u4F20\u6210\u529F\uFF01")),m(s.data.uuid),k(!1),J([{uid:"".concat(Date.now()),name:W,status:"done",percent:100,response:s}])):n.ZP.error((s==null?void 0:s.message)||"\u4E0A\u4F20\u5931\u8D25"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(3),P(!1),n.ZP.error("\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 17:case"end":return r.stop()}},c,null,[[3,13]])}));return function(){return d.apply(this,arguments)}}(),ge=function(){if(!h){n.ZP.warning("\u8BF7\u5148\u4E0A\u4F20\u6587\u4EF6");return}l.history.push("/contract-analysis?fileId=".concat(h,"&topK=").concat(ie))};return(0,e.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1,background:"#020617",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,e.jsx)(I.Z,{}),(0,e.jsxs)("div",{style:{position:"relative",zIndex:1,padding:"24px",width:"100%",maxWidth:"800px"},children:[(0,e.jsxs)("div",{className:"sexy-card overflow-hidden",children:[(0,e.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between border-b border-white/10 bg-white/5",children:[(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-semibold tracking-[0.3em] text-[#C5A059] uppercase font-mono opacity-90",children:"Quantum.System"}),(0,e.jsx)("p",{className:"text-sm text-brand-100 font-medium opacity-60",children:"Contract Analysis Interface"})]}),(0,e.jsx)("div",{className:"h-8 w-[1px] bg-white/10"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 text-white/40",children:[(0,e.jsx)(G.Z,{className:"text-[#C5A059]"}),(0,e.jsx)("span",{className:"text-xs font-mono uppercase tracking-widest",children:"Guest_User_01"})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)(O.ZP,{ghost:!0,icon:(0,e.jsx)(M.Z,{}),onClick:function(){return l.history.push("/history")},className:"!border-white/10 !text-white/60 hover:!text-[#C5A059] hover:!border-[#C5A059]/50 !rounded-full !bg-white/5",children:"\u5386\u53F2\u8BB0\u5F55"}),(0,e.jsx)("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-brand-50 backdrop-blur-md font-mono tracking-widest uppercase opacity-70",children:"Active"})]})]}),(0,e.jsxs)("div",{className:"px-8 py-10",children:[(0,e.jsxs)("div",{className:"mb-10 text-left space-y-3",children:[(0,e.jsx)("span",{className:"font-mono text-[#C5A059] text-xs font-medium tracking-[0.5em] block uppercase mb-2",children:"Luminescent Trajectories"}),(0,e.jsxs)("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tighter leading-[0.9] bg-gradient-to-r from-white via-slate-400 to-[#C5A059] bg-clip-text text-transparent",children:["Legal",(0,e.jsx)("br",{}),"Rag"]}),(0,e.jsxs)("p",{className:"text-slate-400 max-w-lg text-lg font-light leading-relaxed mt-4",children:["Upload your document to initiate ",(0,e.jsx)("span",{className:"text-white",children:"stochastic risk analysis"}),". High-fidelity processing active."]})]}),(0,e.jsxs)("div",{className:"space-y-8",children:[(0,e.jsx)("div",{className:"shimmer-loading rounded-xl",children:(0,e.jsxs)(D,w()(w()({},fe),{},{className:"!bg-white/5 !border-2 !border-dashed !border-white/10 hover:!border-brand-500/50 !rounded-xl transition-all duration-300",children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon !text-brand-400 !mb-4",children:(0,e.jsx)(F.Z,{style:{fontSize:48}})}),(0,e.jsx)("p",{className:"ant-upload-text !text-slate-200 !text-lg !font-medium",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4E0A\u4F20"}),(0,e.jsx)("p",{className:"ant-upload-hint !text-slate-500 !mt-2",children:"\u652F\u6301 PDF\u3001Word (doc/docx) \u548C TXT \u683C\u5F0F\uFF0C\u4E0D\u8D85\u8FC7 50MB"})]}))}),(0,e.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,e.jsx)(u.Z,{className:"text-[#C5A059]"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:"\u5206\u6790\u914D\u7F6E"})]}),(0,e.jsx)("div",{className:"h-4 w-[1px] bg-white/10 mx-2"}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Recall Count"}),(0,e.jsx)($.Z,{title:"\u9009\u62E9\u53EC\u56DE\u7684\u6CD5\u5F8B\u6761\u6570\uFF0C\u6761\u6570\u8D8A\u591A\u5206\u6790\u8D8A\u5168\u9762\u4F46\u8017\u65F6\u66F4\u957F",children:(0,e.jsx)(T.Z,{min:1,max:10,value:ie,onChange:function(c){return he(c||1)},className:"!bg-black/40 !border-white/10 !text-white !rounded-lg !w-20"})})]})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between pt-4 border-t border-white/5",children:[(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsxs)("div",{className:"flex gap-8 font-mono text-[10px] tracking-widest uppercase opacity-60",children:[(0,e.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,e.jsx)("span",{className:"opacity-40",children:"Latency"}),(0,e.jsx)("span",{className:"text-[#C5A059]",children:"0.02ms"})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,e.jsx)("span",{className:"opacity-40",children:"Entropy"}),(0,e.jsx)("span",{className:"text-[#C5A059]",children:"84.2%"})]})]})}),(0,e.jsx)(O.ZP,{type:"primary",size:"large",disabled:!h||Y,loading:Y,className:"!h-12 !px-8 !rounded-full !text-xs !tracking-widest !uppercase !font-bold transition-all ".concat(h?"!bg-[#C5A059] !text-black hover:!bg-white hover:!scale-105":"!bg-white/5 !text-white/40 !border border-white/10"),onClick:ge,children:"Initiate Flux"})]})]})]})]}),(0,e.jsx)(H.Z,{title:(0,e.jsx)("span",{className:"font-semibold",children:"\u7F16\u8F91 TXT \u5185\u5BB9"}),open:ce,okText:"\u4FDD\u5B58\u5E76\u4E0A\u4F20",cancelText:"\u53D6\u6D88",confirmLoading:Y,onOk:ve,onCancel:function(){k(!1),z(""),q(""),J([]),m("")},width:900,destroyOnClose:!0,className:"dark-modal",children:(0,e.jsxs)("div",{className:"space-y-4 py-2",children:[(0,e.jsxs)("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[(0,e.jsx)("span",{className:"w-2 h-2 bg-brand-500 rounded-full animate-pulse"}),"\u4EC5\u5BF9 TXT \u6587\u4EF6\u652F\u6301\u5728\u7EBF\u4FEE\u6539\uFF1BPDF/Word \u8BF7\u76F4\u63A5\u4E0A\u4F20\u3002"]}),(0,e.jsx)(S.Z.TextArea,{value:re,onChange:function(c){return z(c.target.value)},autoSize:{minRows:16,maxRows:28},className:"!bg-black/20 !border-white/10 !rounded-lg !p-4 !text-base !leading-relaxed !text-slate-200 placeholder:!text-slate-600"})]})})]})]})},y=R}}]);
